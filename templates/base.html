<!doctype html>
<html lang="en">
{% load static %}
<head>
   
    <meta charset="utf-8" />
	<link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png">
	<link rel="icon" type="image/png" sizes="96x96" href="assets/img/favicon.png">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	
	<title>The Volunteer Web</title>

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />
    <link href={% static 'assets/css/hipster_cards.css' %} rel="stylesheet"/> 
    <link href={% static 'bootstrap3/css/rotating-card.css' %} rel='stylesheet' />
    <link href={% static 'bootstrap3/css/bootstrap.min.css'%} rel="stylesheet" />
    
    <!-- Animation library for notifications   -->
    <link href={% static 'assets/css/animate.min.css'%} rel="stylesheet"/>
    
    <link href= {% static 'assets/css/gsdk.css' %} rel="stylesheet"/>
    
    
    <!--     Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet"> 
    <link href='https://fonts.googleapis.com/css?family=Grand+Hotel|Open+Sans:400,300' rel='stylesheet' type='text/css'>  
    <link href={% static 'assets/css/pe-icon-7-stroke.css' %} rel="stylesheet" />  

     <!--  jQuery and Bootstrap core files    -->
    <script src={% static 'assets/js/jquery.js' %} type="text/javascript"></script>
    <script src={% static 'assets/js/jquery-ui.custom.min.js' %} type="text/javascript"></script>
    <script src={% static 'ajax.js' %} ></script>
    <script src={% static 'wNumb.js' %} ></script>
    <script src={% static 'assets/js/bootstrap-notify.js' %}></script>
    <script src={% static 'bootstrap3/js/bootstrap.min.js' %} type="text/javascript"></script>
    {%block head%} {% endblock %}

    <style type="text/css">
      #firstchild>div:first-child{
        overflow: scroll;
      }
    </style>
    <script type="text/javascript">
    function rotateCard(btn){
        var $card = $(btn).closest('.card-container');
        console.log($card);
        if($card.hasClass('hover')){
            $card.removeClass('hover');
        } else {
            $card.addClass('hover');
        }
    }
</script>

</head>
<body>

<!-- Navbar will come here -->
<div id="navbar">
        <nav class="navbar navbar-default" role="navigation">
          <div class="container-fluid">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="/">The Volunteer Web</a>
            </div>
              

            <div class="collapse navbar-collapse" id="bs-examle-navbar-collapse-1">
              <ul class="nav navbar-nav">
                {% if user.is_authenticated %}
                {% else %}
                <li><a data-toggle = "modal" data-target = "#login" >Login</a>
                <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Register<b class="caret"></b></a>
                  <ul class="dropdown-menu">
                    <li><a data-toggle = "modal" data-target = "#indregister">as Individual</a></li>
                    <li><a data-toggle = "modal" data-target = "#ngoregister">as an NGO</a></li>
				
                  </ul>
                </li>
                {% endif %}
                </ul>
            
                <ul class="nav navbar-nav navbar-right">
				
				<li>
					<a rel="tooltip" title="Follow us on Twitter" data-placement="bottom" href="https://twitter.com/" target="_blank" class="btn btn-simple">
						<i class="fa fa-twitter"></i>
					</a>
				</li>
				<li>
					<a rel="tooltip" title="Like us on Facebook" data-placement="bottom" href="https://www.facebook.com/" target="_blank" class="btn btn-simple">
						<i class="fa fa-facebook-square"></i>
					</a>
				</li>
				<li>
					<a rel="tooltip" title="Follow us on Instagram" data-placement="bottom" href="https://www.instagram.com/" target="_blank" class="btn btn-simple">
						<i class="fa fa-instagram"></i>
					</a>
				</li>

	    	  </ul>             
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
    </div><!--  end navbar --><!-- end navbar -->
   
<div class="wrapper">
     <div class="container"> 
         {% block body %}
         {% endblock %}
     </div>   
</div>

{% block modal%}
<div class="modal modal-small fade" id="login" tabindex="-1" role="dialog" aria-hidden="false">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title text-center">Login With</h4>
      </div>
      <div class="modal-body">
            <div class="social-area">
                <a href="" class="btn btn-round btn-fill btn-social btn-twitter">
                   <i class="fa fa-twitter"></i>
                </a>
                <a href="" class="btn btn-round btn-fill btn-social btn-facebook">
                   <i class="fa fa-facebook-square"></i>
                </a>
                <a href="" class="btn btn-round btn-fill btn-social btn-google">
                   <i class="fa fa-google-plus-square"></i>
                </a>
            </div>
            <span class="divider"> or </span>
            <div id="error">&nbsp;&nbsp;</div>
            <div class="form-group">
            <input type="text" id="username" name = "username" value = "" size = "50" class="form-control">
          </div>
           <div class="form-group">
            <input type="password" id="password" name = "password"  size = "50" class="form-control">
          </div>
          <button id="loginsubmit" class="btn btn-info btn-fill btn-block"> Login </button>
      </div>
    </div>
  </div>
</div>
<div class="modal modal-small fade" id="indregister" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title text-center">Register with</h4>
      </div>
      <div class="modal-body">
            <div class="social-area">
                <a href="" class="btn btn-round btn-fill btn-social btn-facebook">
                   <i class="fa fa-facebook-square"></i>
                </a>
                <a href="" class="btn btn-round btn-fill btn-social btn-google">
                   <i class="fa fa-google-plus-square"></i>
                </a>
            </div>
            <span class="divider"> or </span>

          <form id="fone" class="regform" action="/register/individual/" method="POST">
          {% csrf_token %}
            {% for field in user_form %}

                <div class="form-group">
                {{ field }}
                </div>
                {% endfor %}
            
          <button id="one" type="button" class="submitreg btn btn-info btn-fill btn-block"> Register </button>
      </div>
      </form>
    </div>
  </div>
</div>
<div class="modal modal-small fade" id="ngoregister" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title text-center">Register with</h4>
      </div>
      <div class="modal-body">
            <div class="social-area">
                <a href="" class="btn btn-round btn-fill btn-social btn-facebook">
                   <i class="fa fa-facebook-square"></i>
                </a>
                <a href="" class="btn btn-round btn-fill btn-social btn-google">
                   <i class="fa fa-google-plus-square"></i>
                </a>
            </div>
            <span class="divider"> or </span>
<form id="ftwo" class="regform" action="/register/ngo/" method="POST">
{% csrf_token %}
            {% for field in user_form %}

                <div class="form-group">
                {{ field }}
                </div>
                {% endfor %}
            
          <button id="two" type="button" class="submitreg btn btn-info btn-fill btn-block"> Register </button>
      </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
 
</body>
   
	<!--  Plugins -->
	<script src={% static 'assets/js/gsdk-checkbox.js' %}></script>
	<script src={% static 'assets/js/gsdk-morphing.js' %}></script>
	<script src={% static 'assets/js/gsdk-radio.js' %}></script>
	<script src={% static 'assets/js/gsdk-bootstrapswitch.js' %}></script>
	<script src={% static 'assets/js/bootstrap-select.js' %}></script>
	<script src={% static 'assets/js/bootstrap-datepicker.js' %}></script>
	<script src={% static 'assets/js/chartist.min.js' %}></script>
    <script src={% static 'assets/js/jquery.tagsinput.js' %}></script>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>

    <!--  Get Shit Done Kit PRO Core javascript 	 -->
	<script src={% static 'assets/js/get-shit-done.js' %}></script>
	<script type="text/javascript">	
  arr=[""]
  {% for field in user_form %}
  arr.push("{{ field.label }}")
  {% endfor %}
  

	$(document).ready(function(){
    $('.form-group>input').each(function(){
      $(this).addClass("form-control")
    })

    $('.regform').each(function(){
      i=0
      $(this).find('input').each(function(){
        $(this).attr('placeholder',arr[i])
        i++
    })
    })

	$("#loginsubmit").on("click",function(){
		
		$.ajax({
        url : "/login/", // the endpoint
        type : "POST", // http method
        data : { 'username' : $("#username").val(),'password' : $("#password").val()}, // data sent with the post request

        // handle a successful response
        success : function(resp) {
      
             if(resp=="incorrect"){
             	$('#error').html("Incorrect username or password")
             }
             else{
             	window.location.href=resp
             }
             },
        // handle a non-successful response
        error : function(xhr,errmsg,err) {
             alert(xhr.status + ": " + xhr.responseText); // provide a bit more info about the error to the console
        }
    });
	})
$(".submitreg").on("click",function(){

$("#f"+$(this).attr('id')).submit()
})
    
	});	

		$().ready(function(){
			// the body of this function is in assets/material-kit.js
			materialKit.initSliders();
			$(window).on('scroll', materialKit.checkScrollForTransparentNavbar);

            window_width = $(window).width();

            if (window_width >= 768){
                big_image = $('.wrapper > .header');

				$(window).on('scroll', materialKitDemo.checkScrollForParallax);
			}		

		});
		
	</script>
</html>
